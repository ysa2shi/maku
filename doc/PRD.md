
---

# 📝 プロダクト要求仕様書 (PRD) - **MAKU**

## 1. プロダクト概要

| 項目 | 内容 |
| :--- | :--- |
| **プロダクト名** | **MAKU** |
| **コンセプト** | 「ミニマリズムと間（ま）の美学」に基づき、独特で日本的なGitHubプロフィールREADMEをGUIで簡単に生成できる、サーバー駆動型（Astro SSR + htmx）ジェネレーター。 |
| **目的** | 開発者が**個人の物語の「幕開」**を飾る、洗練されたプロフィールを、簡潔な操作で作成できるようにする。 |
| **ターゲット** | GitHubアカウントを持つ日本の開発者、および繊細なデザインを好む国際的な開発者。 |
| **技術スタック** | **Frontend:** htmx, Alpine.js (局所的) / **Backend:** Astro SSR (Node.js/TypeScript) |
| **実装方式** | **サーバー駆動型UI (SSR/htmx):** フォーム入力の変更を**htmx**が検知し、サーバー（Astro API Route）で全処理を実行後、HTML断片を返却しDOMを更新する。 |

***

## 2. 機能要求 (Features)

### 2.1. コア入力と基本情報

| ID | 機能名 | 詳細 | 実装の役割 |
| :--- | :--- | :--- | :--- |
| **F-01** | **GitHubユーザー名入力** | 必須入力フィールド。この入力が全ダイナミックバッジの生成トリガーとなる。 | `htmx`でサーバーへ即時送信。 |
| **F-02** | **自己紹介文入力** | テキストエリア。入力内容に含まれる**絵文字**をサーバー側で画像に置換する。 | `htmx`でサーバーへ即時送信。 |
| **F-03** | **絵文字パレット** | (F-02) の入力欄の近くにSlack風パレットを配置。クリックで絵文字をテキストエリアに挿入する。 | **Alpine.js**でUI制御。 |
| **F-04** | **ソーシャルリンク入力** | Twitter, Zenn, Qiitaなどのアカウント名/URLを入力する。 | 入力がある場合のみ、対応するアイコンとリンクのマークダウンを生成する。 |
| **F-05** | **言語切り替え** | ブラウザの`Accept-Language`に基づき、デフォルト言語（`ja`/`en`）を自動判定。手動切り替えボタンも提供する。 | **Astro SSR**がサーバー側で言語を判定し、適切なURLへリダイレクト。 |

### 2.2. スキル選択 GUI

| ID | 機能名 | 詳細 | 備考 |
| :--- | :--- | :--- | :--- |
| **F-06** | **スキル選択パレット** | Skill Iconsを利用した技術アイコンのタイル状リスト。クリックで選択状態をトグルする。 | **htmx**で選択済みリストをサーバーへ送信。 |
| **F-07** | **技術名提示** | 各アイコンの下に、対応する技術名（例: Kotlin）を常に表示し、視覚的な曖昧さを排除する。 | ユーザビリティ確保のため必須。 |

### 2.3. ダイナミックバッジと統計機能

**F-01 (ユーザー名)** が入力されている場合に、ON/OFF制御（チェックボックス）に応じてマークダウンを生成する。

| ID | 機能名 | 制御 | 外部 API / サービス |
| :--- | :--- | :--- | :--- |
| **F-08** | **訪問者数バッジ** | ON/OFF | komarev/ghpvc |
| **F-09** | **GitHubトロフィー** | ON/OFF **(デフォルトON)** | github-profile-trophy |
| **F-10** | **統計カード** | ON/OFF **(デフォルトON)** | github-readme-stats |
| **F-11** | **ストリーク統計** | ON/OFF | github-readme-streak-stats |

### 2.4. 出力とプレビュー

| ID | 機能名 | 詳細 | 備考 |
| :--- | :--- | :--- | :--- |
| **F-12** | **リアルタイムプレビュー** | 入力変更時に、サーバーで生成されたHTML断片を`htmx`が取得し、**GitHub表示形式**で瞬時に更新する。 | サーバー側で`Marked.js`等を使用しHTML変換。 |
| **F-13** | **コピー機能** | 生成されたマークダウンをワンクリックでクリップボードにコピーする。 | Alpine.jsで制御。 |

***

## 3. UI/UX 要求 (Design)：「ミニマリズムと間（ま）の美学」

### 3.1. 配色とタイポグラフィ

| 項目 | デザインの指示 | 差別化ポイント |
| :--- | :--- | :--- |
| **U-01 (ベース)** | **胡粉（ごふん）**`#F9F9F4`を背景に、**墨色**`#222222`をメインテキストに使用。 | デジタルな真っ白を避け、温かみのある和紙の質感を表現。 |
| **U-02 (アクセント)**| メインアクセントカラーは**錆青磁（さびせいじ）**`#669999`を使用。 | 知的で静かな、彩度を落とした和の色。 |
| **U-03 (フォント)** | 見出しは**明朝体** (`font-serif`)、本文/入力は細めの**ゴシック体** (`font-sans`) を使用する。 | 繊細なコントラストで「書」の品格を出す。 |

### 3.2. レイアウトと「間（ま）」

| 項目 | デザインの指示 | 実装要件 |
| :--- | :--- | :--- |
| **U-04 (余白)** | **入力エリアとプレビューエリア間に非常に大きな余白**を設ける。各コンポーネントのパディングも大きく取り、情報を「展示物」のように配置する。 | **「間」**の概念を具現化。 |
| **U-05 (入力フォーム)** | デフォルトで**枠線（ボーダー）を非表示**。フォーカス時のみ、**錆青磁**の極細の下線が滑らかに表示される。 | **Alpine.js**とTailwindの`focus:`ユーティリティで実装。 |
| **U-06 (区切り線)** | セクションの区切りに、濃い線やシャドウは使わず、**極細の薄墨点線**（`#E0E0E0`）のみを使用する。 | 圧迫感を避け、情報間の「間」を保つ。 |
| **U-07 (フィードバック)**| ボタンクリックやホバー時、背景が淡い**桜色**（`#F9AABF`）への微かな変化を伴う`transition`を適用し、アナログな感触を演出する。 |

***

## 4. 外部 API とサービス（サーバー処理）

Astro API Route（サーバー）が、以下の外部サービスにアクセスし、その結果をマークダウンに組み込む。

| サービス名 | 用途 | 処理実行場所 |
| :--- | :--- | :--- |
| **GitHub REST API** | ユーザー情報 (F-01) の取得。 | サーバー (Astro API Route) |
| **Twemoji CDN** | 自己紹介文 (F-02) の絵文字置換。 | サーバー (Astro API Route) |
| **Skill Icons CDN** | スキルアイコン (F-06) の画像生成。 | サーバー (Astro API Route) |
| **統計バッジサービス** | F-08～F-11の画像生成。 | サーバー (Astro API Route) |
| **Marked.js (または類似)** | HTML変換 (F-11)。 | サーバー (Astro API Route) |
